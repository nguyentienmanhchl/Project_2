
<html >
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Meeting</title>
    
    <!-- import the webpage's stylesheet -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bulma@0.9.1/css/bulma.min.css"
    />
    <link rel="stylesheet" type="text/css" href="/public/CSS/meeting.css">
    <link rel="stylesheet" type="text/css" href="/public/CSS/meeting_chat.css">

    <!-- import the webpage's javascript file -->
     
    <script src="https://cdn.jsdelivr.net/npm/vue@2.6.12/dist/vue.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios@0.20.0/dist/axios.min.js"></script>
    <script src="https://cdn.stringee.com/sdk/web/2.2.1/stringee-web-sdk.min.js"></script>
    <meta charset="UTF-8">
    
   
   
   <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
  
   <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
   <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
   
  
   <script src="https://kit.fontawesome.com/c939d0e917.js"></script>
   
   <style>
      #video-grid{
         display: flex;
         justify-content: center;
         flex-wrap: wrap;
      }
      video{
         height: 300px;
         width: 400px;
         object-fit: cover;
         padding: 8px;
      }
      
   </style>
    
  </head>
  <body>
   
    <div class=" has-text-centered"  v-cloak id="app" >
      <h1 v-if="!room" class="title">
        Fakebook 
        <span class="header-highlight">Meeting </span>
      </h1>

      <div >
        <button class="button is-primary" v-if="!room" @click="createRoom">
          Táº¡o Meeting
        </button>

        <button class="button is-info" v-if="!room" @click="joinWithId">
          Join Meeting
        </button>       

      </div>
      <div v-if="roomId" class="info">
         <b> {{roomId}}</b>     
         
        </div>   
      <div v-if="roomId" class="main__controls">
         <div class="main__controls__block">
            <div onclick="muteUnmute()" class="main__controls__button main__mute_button">
               <i class="fas fa-microphone"></i>
               <span>Mute</span>
            </div>
            <div @click="playStop" class="main__controls__button main__video_button"   >
               <i class="fas fa-video"></i>
               <span>Stop Video</span>
            </div>
            <div @click="publish(true)" class="main__controls__button "   >
               <i class="fas fa-desktop "></i>
               <span>Share Screen</span>
            </div>
         </div>
           
         <div class="main__controls__block">
            <div class="main__controls__button">
               <i class="fas fa-shield-alt"></i>
               <span>Security</span>
            </div>
            <div class="main__controls__button">
               <i class="fas fa-user-friends"></i>
               <span>Participants</span>
            </div>
            <div class="main__controls__button">
               <i class="fas fa-comment-alt"></i>
               <span>Chat</span>
            </div>
         </div>



            
         <div class="main__controls__block">
            <div class="main__controls__button">
               <span class="leave_meeting" @click="leave">Leave Meeting</span>
            </div>
         </div>
      </div>

   </div>

  
    <div  class="main" id ="app">
      <div class="main__left">                
         
         <div class="main__videos">
            <div id="videos">      
            </div>
         </div>


        
         


      </div>
      <div class="main__right">
         <div class="main__header">
            <h6>Chat</h6>
         </div>
         <div class="main__chat_window" >

            <div class="chat-messages"></div>
               
            

         </div>
         
            <div class="chat-form-container">
             <form id="chat-form">
               <input
                 id="msg"
                 type="text"
                 placeholder="Enter Message"
                 required
                 autocomplete="off"
               />
               <button class="btn"style="color:white"><i class="fas fa-paper-plane" ></i> Send</button>
              </form>
            </div>

         
      </div>
   </div>
  

  </body>

  <script
  src="https://cdnjs.cloudflare.com/ajax/libs/qs/6.9.2/qs.min.js"
  integrity="sha256-TDxXjkAUay70ae/QJBEpGKkpVslXaHHayklIVglFRT4="
  crossorigin="anonymous"></script>
  <script src="/socket.io/socket.io.js"></script>
  
  <script src="/public/meeting_api.js"></script>
  <script src="/public/meeting.js"></script>
  <script>
   const username ="<%=userSession%>";
   const room="{{roomId}}";
  

  


  </script>
  <script src="/public/meeting_chat.js"></script>
</html>
